#summary Заметки по безопасности SQL-запросов от внедрения

= Introduction =

Нашёл краткое описание способов защиты :

{{{
Для защиты от всего вышесказанного достаточно придерживаться нескольких простых правил.

1) для целых и дробных величин, перед их использованием в запросе достаточно привести величину к нужному типу.

$id=(int)$id; $total=(float)$total;

Вместо этого можно вставить систему слежения за тестированием на SQL инъекцию.

if((string)$id<>(string)(int)$id) {

//пишем в лог о попытке

die('ops');

}

2) для строковых параметров, которые не используются в like, regexp и тд, экранируем кавычки.

$str=addslashes($str);

или, лучше,

mysql_escape_string($str)

3) в строках, которые предполагается использовать внутри like, regexp и тд, необходимо так же заэкранировать
специальные символы, применяющиеся в этих операторах, если это необходимо. В противном случае, можно закомментировать
использование этих символов.
}}}

Источник : http://www.securitylab.ru/contest/212083.php