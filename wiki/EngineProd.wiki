#summary Движок расчёта выработки ресурсов и всего, что связано с производством

= Introduction =

Программный модуль находится в файле `game/prod.php`

= API =

Программный интерфейс незамысловатый.

Таблица *`$initial`* : содержит стоимость игровых объектов первого уровня, используется в процедурах `XXXPrice`

*`BuildMeetRequirement`* : проверяет можно ли построить постройку `$id` на планете `$planet` игрока `$user`. Возвращает TRUE/FALSE

*`BuildPrice`* : возвращает стоимость постройки `$id` (Металл/Кристалл/Дейтерий/Энергия) уровня `$lvl`

*`BuildDuration`* : Время строительства постройки `$id` уровня `$lvl` в секундах.

*`ShipyardMeetRequirement`* : проверяет можно ли построить флот/оборону `$id` на Верфи на планете `$planet` игрока `$user`. Возвращает TRUE/FALSE

*`ShipyardPrice`* : Стоимость флота/обороны на Верфи

*`ShipyardDuration`* : Длительность постройки флота/обороны 

*`ResearchMeetRequirement`* : проверяет, можно ли начать исследование на планете

*`ResearchPrice`* : стоимость исследования

*`ResearchDuration`* : длительность исследования

*`BuildDurationFormat`* : форматирует количество секунд в строку, вида "9д 4ч 6м"

*`IsEnoughResources`* : проверяет, достаточно ли указанного количества ресурсов на планете

*Всё что связано с добычей и подсчетом ресурсов*

*`store_capacity`* : Вместимость хранилищ

*`prod_solar`* : Выработка энергии СЭС

*`prod_fusion`* : Выработка энергии термоядом

*`prod_sat`* : Выработка энергии солн. спутниками

*`prod_metal`* : Выработка шахты металла

*`prod_crys`* : Выработка шахты кристалла

*`prod_deut`* : Выработка шахты дейтерия

*`cons_metal`* : Потребление энергии шахтой металла

*`cons_crys`* : Потребление энергии шахтой кристалл

*`cons_deut`* : Потребление энергии шахтой дейтерия

*`cons_fusion`* : Потребление дейтерия термоядом

*`ProdResources`* : Расчитать прирост ресурсов на планете `$planet_id` от времени `$time_from`, до времени `$time_to`. Ограничить емкостью хранилищ. Эта процедура работает с таблицей БД `planets`