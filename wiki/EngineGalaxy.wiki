#summary Движок Галактики.

= Introduction =

<img src="http://ogamespec.com/imgstore/whc4d774d5164129.jpg">

Движок предназначен для быстрого отображения планет системы, а также для упраления полями обломков и подбора стартовой планеты для нового игрока.

Программный модуль находится в файле `game/galaxy.php`

Основные объекты галактики:
 * Планеты. Сами планеты находятся в таблице `planets`. В таблице `galaxy` содержится только пометка что позиция занята планетой. Планеты принадлежат либо определенному игроку, либо тех. аккаунту `space` (уничтоженные планеты)
 * Луны
 * Поля обломков. ПО принадлежат либо реальному игроку, либо тех. аккаунту `space`, если планета на этих координатах была уничтожена. Если в ПО менее 400 ед. ресурсов любого вида, то оно становится невидимым. Даже если в ПО находится 0 металла и 0 кристалла, его всё равно можно переработать. Нулевые ПО удаляются еженедельно, если на них или от них не летят флоты.

= Database =

|| *столбец* || *SQL тип* || *описание* ||
||g||INT||Номер галактики||
||s||INT||Номер системы||
||p||INT||Номер позиции||
||planet_id||INT||Позиция занята планетой, если planet_id != 0||
||moon_id||INT||Позиция занята луной, если moon_id != 0||
||debris||INT||1: на позиции есть поле обломков||
||m||DOUBLE||Количество металла в ПО (может быть 0)||
||k||DOUBLE||Количество кристалла в ПО (может быть 0)||