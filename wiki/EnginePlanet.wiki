#summary Движок управления планетами

= Introduction =

Add your content here.

= Типы планет =

|| *Тип* || *Описание* || *Примечания* ||
||0||Луна||По отдельности от планеты существовать не может||
||101...110||Планеты - каменные||Только на позициях 1-3||
||201...210||Планеты - джунгли||Только на позициях 4-6||
||301...307||Планеты - нормальные||Только на позициях 7-9||
||401...409||Планеты - водяные||Только на позициях 10-12||
||501...510||Планеты - ледяные||Только на позициях 13-15||
||10000||Поле обломков||Исчезает в понедельник в 1:10 по серверу, если на/от него не летит ни одного флота и если там 0 ресурсов.||
||10001||Уничтоженная планета||Существует 1 сутки (24 часа) + остаток времени до 01-10 следующего дня||
||10002||Фантом колонизации||Существует во время полёта колонизатора ||
||10003||Уничтоженная луна||Существует как Уничтоженная планета||
||20000||Бесконечные дали (для экспедиций)||Только на позициях 16 ||

= Размер новой колоний =

Диаметр планеты задается следующим случайным распределением :

|| *Позиция* || *Формула* ||
||1-3|| DIAM = RAND (50, 120) `*` 72||
||4-6|| DIAM = RAND (50, 150) `*` 120||
||7-9|| DIAM = RAND (50, 120) `*` 120||
||10-12|| DIAM = RAND (50, 120) `*` 96||
||13-15|| DIAM = RAND (50, 150) `*` 96||

Диаметр Главной планеты всегда 12800 км.

= Database =

Структура таблицы `planets`:

|| *столбец* || *SQL тип* || *описание* ||
|| planet_id|| INT PRIMARY KEY|| Порядковый номер||
|| name|| CHAR(20)|| Название планеты||
|| type|| INT|| тип планеты (порядковый номер картинки), если 0 - то это луна, если 10000 - это поле обломков, 10001 - уничтоженная планета, 10002 - фантом для колонизации, 10003 - уничтоженная луна ||
|| g,s,p|| INT|| Координаты где расположена планета ||
|| owner_id|| INT|| Порядковый номер пользователя-владельца||
|| diameter|| INT|| Диаметр планеты||
|| temp|| INT|| Минимальная температура||
|| fields|| INT|| Количество застроенных полей||
|| maxfields|| INT|| Максимальное количество полей||
|| date|| INT UNSIGNED|| Дата создания time()||
|| bXX|| INT|| Уровень постройки XX||
|| dXX|| INT|| Количество оборонительных сооружений XX||
|| fXX|| INT|| Количество флота каждого типа XX||
|| m, k, d|| DOUBLE|| Металла, кристалла, дейтерия||
|| mprod, kprod, dprod|| DOUBLE|| Процент выработки шахт металла, кристалла, дейтерия||
|| sprod, fprod, ssprod|| DOUBLE|| Процент выработки солнечной электростанции, термояда и солнечных спутников||
|| lastpeek|| INT UNSIGNED|| Время последнего обновления состояния планеты time()||
|| lastakt|| INT UNSIGNED|| Время последней активности time()||
|| gate_until|| INT UNSIGNED|| Время остывания ворот time()||